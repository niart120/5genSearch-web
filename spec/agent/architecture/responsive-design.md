# ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

ãƒãƒ«ãƒãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œã®è¨­è¨ˆæ–¹é‡ã‚’å®šç¾©ã™ã‚‹ã€‚

## 1. è¨­è¨ˆç›®æ¨™

1. **PCãƒ»ãƒ¢ãƒã‚¤ãƒ«ä¸¡å¯¾å¿œ**: ä¸»è¦ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’ä¸¡ãƒ‡ãƒã‚¤ã‚¹ã§ã‚µãƒãƒ¼ãƒˆ
2. **ä¸€è²«ã—ãŸ UX**: ãƒ‡ãƒã‚¤ã‚¹é–“ã§æ“ä½œä½“é¨“ã®æ•´åˆæ€§ã‚’ç¶­æŒ
3. **ä¿å®ˆæ€§**: ã‚³ãƒ¼ãƒ‰é‡è¤‡ã‚’æœ€å°åŒ–

## 2. ã‚¢ãƒ—ãƒ­ãƒ¼ãƒé¸å®š

### 2.1 å€™è£œ

| ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ | èª¬æ˜ | ãƒ¡ãƒªãƒƒãƒˆ | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ |
|-----------|------|----------|------------|
| Tailwind ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ | å˜ä¸€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§åˆ†å² | å®Ÿè£…ãŒã‚·ãƒ³ãƒ—ãƒ« | è¤‡é›‘ãªåˆ†å²ã§å¯èª­æ€§ä½ä¸‹ |
| ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– HOC | ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å·®ã—æ›¿ãˆ | æ§‹é€ ã®åˆ†é›¢ãŒæ˜ç¢º | æŠ½è±¡åŒ–ã‚³ã‚¹ãƒˆ |
| åˆ¥ãƒšãƒ¼ã‚¸/ãƒ«ãƒ¼ãƒˆ | PCç‰ˆãƒ»ãƒ¢ãƒã‚¤ãƒ«ç‰ˆã‚’å®Œå…¨åˆ†é›¢ | æœ€å¤§ã®æŸ”è»Ÿæ€§ | ã‚³ãƒ¼ãƒ‰é‡è¤‡ãŒå¤§ãã„ |

### 2.2 æ¡ç”¨æ–¹é‡

**ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**ã‚’æ¡ç”¨ï¼š

1. **Tailwind ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ**: ã‚¹ã‚¿ã‚¤ãƒ«å·®ç•°ã‚„è»½é‡è¦ç´ ã®è¡¨ç¤º/éè¡¨ç¤º
2. **`useMediaQuery` ãƒ•ãƒƒã‚¯**: DOM æ§‹é€ ãŒå¤§ããç•°ãªã‚‹å ´åˆã®æ¡ä»¶ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€JS ãƒ¬ãƒ™ãƒ«ã®æŒ™å‹•åˆ†å²

### 2.3 åˆ¤æ–­åŸºæº–

| æ¡ä»¶ | æ‰‹æ®µ | ä¾‹ |
|-----|------|-----|
| ã‚¹ã‚¿ã‚¤ãƒ«ã®å·®ç•°ã®ã¿ (ä½™ç™½ã€ã‚µã‚¤ã‚ºã€grid åˆ—æ•°) | Tailwind ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆ | `px-4 lg:px-6`, `grid-cols-1 lg:grid-cols-2` |
| è»½é‡è¦ç´ ã®è¡¨ç¤º/éè¡¨ç¤º | Tailwind `hidden lg:block` | ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒœã‚¿ãƒ³ã€PC ç‰ˆ Sidebar |
| DOM æ§‹é€ ãŒç•°ãªã‚Šã€ä¸¡æ–¹ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒã‚³ã‚¹ãƒˆã«ãªã‚‹ | `useMediaQuery` ã§æ¡ä»¶ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° | æ¤œç´¢çµæœãƒ†ãƒ¼ãƒ–ãƒ« â†” ã‚«ãƒ¼ãƒ‰ |
| JS ãƒ¬ãƒ™ãƒ«ã®æŒ™å‹•åˆ†å²ãŒå¿…è¦ | `useMediaQuery` | ãƒ¢ãƒã‚¤ãƒ«ã§æ¤œç´¢å®Ÿè¡Œå¾Œã« Sheet è‡ªå‹•é–‰ã˜ ç­‰ |

#### é¸å®šç†ç”±

- **Tailwind çµ±ä¸€ã‚’ä¸æ¡ç”¨ã®ç†ç”±**: æ¤œç´¢çµæœã®ãƒ†ãƒ¼ãƒ–ãƒ«/ã‚«ãƒ¼ãƒ‰åˆ‡æ›¿ã®ã‚ˆã†ã« DOM æ§‹é€ ãŒå®Œå…¨ã«ç•°ãªã‚‹ã‚±ãƒ¼ã‚¹ã§ã€ä¸¡æ–¹ã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã—ã¦ `hidden` ã§éš ã™ã®ã¯ DOM ã‚³ã‚¹ãƒˆãŒå¤§ãã„
- **`useMediaQuery` çµ±ä¸€ã‚’ä¸æ¡ç”¨ã®ç†ç”±**: `px-4 lg:px-6` ç¨‹åº¦ã®å˜ç´”ãªã‚¹ã‚¿ã‚¤ãƒ«å·®ç•°ã¾ã§ JS æ¡ä»¶åˆ†å²ã«ã™ã‚‹ã®ã¯å†—é•·ã€‚ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆå€¤ã®äºŒé‡ç®¡ç† (Tailwind è¨­å®š + JS ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰) ã‚‚ç”Ÿã˜ã‚‹

## 3. ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆå®šç¾©

Tailwind ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ä½¿ç”¨ï¼š

| Prefix | æœ€å°å¹… | å¯¾è±¡ãƒ‡ãƒã‚¤ã‚¹ |
|--------|-------|------------|
| (default) | 0px | ãƒ¢ãƒã‚¤ãƒ« |
| `sm` | 640px | å¤§å‹ã‚¹ãƒãƒ› |
| `md` | 768px | ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ |
| `lg` | 1024px | PC |
| `xl` | 1280px | å¤§å‹PC |

**è¨­è¨ˆåŸå‰‡**: ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ

## 4. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³

### 4.1 å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Header                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚            Main Content              â”‚
â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            Footer (optional)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 PC ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Header                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CategoryNav: [æ¤œç´¢ | å€‹ä½“ç”Ÿæˆ | ãƒ„ãƒ¼ãƒ«]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          â”‚ FeatureTabs              â”‚
â”‚ Settings â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ (Sidebar)â”‚â”‚ Main Content             â”‚â”‚
â”‚          â”‚â”‚ (scroll area)            â”‚â”‚
â”‚          â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 ãƒ¢ãƒã‚¤ãƒ«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Header (â˜° DS è¨­å®š)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ FeatureTabs                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      â”‚
â”‚         Main Content                 â”‚
â”‚         (scroll area)                â”‚
â”‚                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ BottomNav: ğŸ” ğŸ“‹ ğŸ”§                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 5. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### 5.1 ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ– Container ãƒ‘ã‚¿ãƒ¼ãƒ³

```tsx
// components/layout/responsive-container.tsx
interface ResponsiveContainerProps {
  sidebarContent?: ReactNode;
  sidebarOpen: boolean;
  onSidebarOpenChange: (open: boolean) => void;
  topContent?: ReactNode;
  children: ReactNode;
}

function ResponsiveContainer({
  sidebarContent,
  sidebarOpen,
  onSidebarOpenChange,
  topContent,
  children,
}: ResponsiveContainerProps) {
  return (
    <div className="mx-auto flex max-w-screen-xl flex-1 overflow-hidden">
      {/* PC: å›ºå®š Sidebar */}
      {sidebarContent && (
        <aside className="hidden w-64 shrink-0 border-r border-border lg:block">
          <Sidebar>{sidebarContent}</Sidebar>
        </aside>
      )}

      {/* ãƒ¢ãƒã‚¤ãƒ«: Sheet Sidebar */}
      {sidebarContent && (
        <Sheet open={sidebarOpen} onOpenChange={onSidebarOpenChange}>
          <SheetContent side="left" className="w-4/5 max-w-xs p-0">
            <Sidebar>{sidebarContent}</Sidebar>
          </SheetContent>
        </Sheet>
      )}

      <main className="flex flex-1 flex-col overflow-hidden">
        {topContent && <div className="shrink-0">{topContent}</div>}
        <div className="flex-1 overflow-y-auto">
          <div className="px-4 py-4 lg:px-6">{children}</div>
        </div>
      </main>
    </div>
  );
}
```

### 5.2 æ¡ä»¶ä»˜ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°

```tsx
// hooks/use-media-query.ts
// useSyncExternalStore ã‚’ä½¿ç”¨ã€‚
// useState + useEffect ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã¯ effect å†…ã® setState ãŒ
// react-hooks/set-state-in-effect ãƒ«ãƒ¼ãƒ«ã«æŠµè§¦ã™ã‚‹ãŸã‚ã€‚
function useMediaQuery(query: string): boolean {
  const subscribe = useCallback(
    (callback: () => void) => {
      const mql = window.matchMedia(query);
      mql.addEventListener('change', callback);
      return () => mql.removeEventListener('change', callback);
    },
    [query]
  );

  const getSnapshot = useCallback(() => {
    return window.matchMedia(query).matches;
  }, [query]);

  const getServerSnapshot = useCallback(() => false, []);

  return useSyncExternalStore(subscribe, getSnapshot, getServerSnapshot);
}

// ä½¿ç”¨ä¾‹
function ResultsView({ results }: Props) {
  const isDesktop = useMediaQuery('(min-width: 1024px)');
  
  return isDesktop 
    ? <ResultsTable results={results} />
    : <ResultsCards results={results} />;
}
```

## 6. ãƒ†ã‚¹ãƒˆæ–¹é‡

### 6.1 ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ

- [ ] 320px (iPhone SE)
- [ ] 375px (iPhone 12)
- [ ] 768px (iPad)
- [ ] 1024px (iPad Pro / å°å‹PC)
- [ ] 1440px (ä¸€èˆ¬çš„ãªPC)

### 6.2 æ¤œè¨¼ãƒ„ãƒ¼ãƒ«

- Chrome DevTools Device Mode
- å®Ÿæ©Ÿç¢ºèª (iOS Safari, Android Chrome)

## 7. æ¤œè¨äº‹é …

- [ ] çµæœãƒ†ãƒ¼ãƒ–ãƒ«ã®æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« vs ã‚«ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆåˆ¤æ–­
- [ ] PWA å¯¾å¿œã®å¿…è¦æ€§
